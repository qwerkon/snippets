#!/usr/bin/env python3
import sys, json
def send(o):
    sys.stdout.write(json.dumps(o) + "\n"); sys.stdout.flush()

for line in sys.stdin:
    line = line.strip()
    if not line:
        continue
    try:
        msg = json.loads(line)
    except Exception:
        continue

    mid = msg.get("id")
    method = msg.get("method")

    if method == "initialize":
        send({"jsonrpc":"2.0","id":mid,"result":{
            "protocolVersion":"2024-11-05",
            "capabilities":{"tools":{}},
            "serverInfo":{"name":"null-mcp","version":"0.0.0"}
        }})
    elif method in ("notifications/initialized",):
        pass
    elif method in ("tools/list","tools.list"):
        send({"jsonrpc":"2.0","id":mid,"result":{"tools":[]}})
    elif mid is not None:
        send({"jsonrpc":"2.0","id":mid,"error":{"code":-32601,"message":"No tools"}})
